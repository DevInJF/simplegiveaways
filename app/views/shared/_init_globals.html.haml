:javascript
  var simpleGiveaways = (function() {

    return {

      config: {
        port: '#{ENV["PORT"]}',
        fb_app_id: '#{FB_APP_ID}'
      },

      current_user: {},

      active_giveaway: {},

      flot: {},

      csrf: function() {
        return $("meta[name='csrf-token']").attr("content");
      },

      utils: {

        getURLParameter: function(name) {
          return decodeURI(
            (RegExp(name + '=' + '(.+?)(&|$)').exec(location.search) || [, false])[1]
          );
        }
      }
    }
  }());

- if @page
  :javascript
    SG.Paths.subscriptionPlans = '#{facebook_page_subscription_plans_path(@page)}';

- if current_user && current_user.fb_uid
  :javascript
    simpleGiveaways["current_user"]["name"] = '#{current_user.name}';
    simpleGiveaways["current_user"]["fb_uid"] = '#{current_user.fb_uid}';
